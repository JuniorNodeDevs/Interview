#!/usr/bin/env node

'use strict';

var program = require('commander')
  , version = require('../package.json').version;

program
  .version(version)
  .option('-s, --start <number>', 'Number to start with, defaults to 1', Number)
  .option('-e, --end <number>', 'Number to count to, defaults to 100', Number)
  .parse(process.argv);

var buzzToFizz = 100
  , s = program.start || 1
  , e = program.end || 100;

if(isNaN(s) || isNaN(e)) {
  console.error('Invalid arguments, expected number');
  process.exit(1);
}

/**
 * Runs through FizzBuzz for n integers using an iterative method
 * Output is sent to the console
 * @param  {integer} n The number to count to 
 */
if (e < s) { 
  console.error('Invalid arguments, expected start number greater than end');
  console.error('start: ' + s);
  console.error('end: ' + e);
  process.exit(1);
}
for (var i = s; i <= e; i++) {
  if (!(i % 15)) {
    console.log('FizzBuzz');
    continue;
  } else if (!(i % 3)) {
    console.log('Fizz');
    continue;
  } else if (!(i % 5)) {
    console.log('Buzz');
    continue;
  }
  console.log(i);
}
